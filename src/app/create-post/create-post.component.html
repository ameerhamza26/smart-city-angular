<div class="main-content">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-8">
                <div class="card">
                    <div class="card-header card-header-danger">
                        <h4 class="card-title">Create Post</h4>
                    </div>
                    <div class="card-body">
                        <form [formGroup]="postForm" enctype="multipart/form-data"  >
                            <div class="row">
                                    <div class="col-md-12">
                                    <mat-form-field>
                                            <mat-label>Activity</mat-label>
                                            <mat-select formControlName="activity" [(value)]="selectedActivity">
                                              <mat-option *ngFor="let activity of activities" [value]="activity">
                                                {{activity.title}} - {{activity.points}} points
                                              </mat-option>
                                            </mat-select>
                                            
                                    </mat-form-field>
                                    <p *ngIf="selectedActivity && selectedActivity.description">{{selectedActivity.description}}</p>
                                </div>
                            </div>
                                
                            <div class="row">
                                <div class="col-md-12">

                                    <mat-form-field class="example-full-width">
                                       <textarea matInput formControlName="description" placeholder="Description"></textarea>
                                     </mat-form-field>
                                        
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-12">
                                        <mat-form-field class="example-full-width">
                                                <input matInput formControlName="location" placeholder="Location"   (keydown.enter)="$event.preventDefault()"  autocorrect="off" autocapitalize="off" spellcheck="off" type="text" #search/>
                                        </mat-form-field>
                                        
                                </div>
                            </div>


                            <agm-map 
                                [latitude]="latitude" 
                                [longitude]="longitude" 
                                [zoom]="zoom" >
                                <agm-marker 
                                [latitude]="latitude" 
                                [longitude]="longitude"  [markerDraggable]="true"
      (dragEnd)="markerDragEnd($event)"></agm-marker>
                                </agm-map>

                            <!-- <div class="row">
                                    <div class="col-md-12">
                                        <mat-label>Role</mat-label>
                                    <input  formControlName="images" name ="images" placeholder="Picture" accept='image/*' type="file" (change)="onFileSelect($event)" >
                                            
                                            
                                    </div>
                                </div> -->

                                <div class="row">
                                        <div class="col-md-12">
                                                <button mat-raised-button class="btn" (click)="fileInputOne.click()">
                                        
                                                        <span>Select before image</span>
                                                        <input #fileInputOne formControlName="imageBefore" name ="profile" placeholder="Picture" accept='image/*' type="file" (change)="onFileSelectOne($event)" style="display: none;" >
                                                      </button>
                                        </div>

                                </div>

                                <div class="row" *ngIf="imgURLOne">
                                        <div class="col-md-12">
                                                <img [src]="imgURLOne" height="200" *ngIf="imgURLOne">
                                        </div>

                                </div>

                                
                                <div class="row">
                                        <div class="col-md-12">
                                                <button mat-raised-button class="btn" (click)="fileInputTwo.click()">
                                        
                                                        <span>Select after image</span>
                                                        <input #fileInputTwo formControlName="imageAfter" name ="profile" placeholder="Picture" accept='image/*' type="file" (change)="onFileSelectTwo($event)" style="display: none;" >
                                                      </button>
                                        </div>
                                        <span style="color:red;" *ngIf="message">{{message}}</span>
                                </div>

                                <div class="row" *ngIf="imgURLTwo">
                                        <div class="col-md-12">
                                                <img [src]="imgURLTwo" height="200" *ngIf="imgURLTwo">
                                        </div>

                                </div>

                            <button mat-raised-button type="submit" class="btn btn-danger pull-right" (click)="submitForm()">Save</button>
                            <div class="clearfix"></div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
  </div>
  
              
  <app-progress-spinner-two class="example-margin" [color]="color" [mode]="mode" [value]="value" [backdropEnabled]="true" [positionGloballyCenter]="true"
  [displayProgressSpinner]="displayProgressSpinner">
 </app-progress-spinner-two>